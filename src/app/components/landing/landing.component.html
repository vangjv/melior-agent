<div class="landing-container">
  <mat-card class="landing-card">
    <mat-card-header>
      <mat-card-title>Welcome to Melior Agent</mat-card-title>
      <mat-card-subtitle>Your AI-Powered Voice Assistant</mat-card-subtitle>
    </mat-card-header>

    <mat-card-content>
      <div class="features-section">
        <h2>Features</h2>
        <ul class="features-list">
          <li>
            <mat-icon aria-hidden="true">mic</mat-icon>
            <span>Real-time voice chat with AI agent</span>
          </li>
          <li>
            <mat-icon aria-hidden="true">transcription</mat-icon>
            <span>Live transcription of conversations</span>
          </li>
          <li>
            <mat-icon aria-hidden="true">record_voice_over</mat-icon>
            <span>Natural conversation mode with voice activity detection</span>
          </li>
          <li>
            <mat-icon aria-hidden="true">security</mat-icon>
            <span>Secure authentication with Microsoft Entra</span>
          </li>
        </ul>
      </div>

      <div class="info-section">
        <p>
          Melior Agent uses advanced WebRTC technology powered by LiveKit to provide
          high-quality, low-latency voice communication with AI. Experience natural
          conversations with real-time transcription and intelligent response modes.
        </p>
      </div>

      @if (isAuthenticated()) {
        <div class="welcome-message">
          <p>Welcome back, <strong>{{ currentUser()?.displayName }}!</strong></p>
          <p>You're signed in and ready to start a conversation.</p>
        </div>
      } @else {
        <div class="info-message">
          <p>Sign in with your Microsoft account to access voice chat features.</p>
        </div>
      }
    </mat-card-content>

    <mat-card-actions align="end">
      @if (isLoading()) {
        <button
          mat-raised-button
          disabled
          aria-label="Authentication in progress"
          aria-live="polite">
          <mat-icon aria-hidden="true">hourglass_empty</mat-icon>
          Authenticating...
        </button>
      } @else {
        <button
          mat-raised-button
          color="primary"
          (click)="onPrimaryButtonClick()"
          [attr.aria-label]="primaryButtonText() + (isAuthenticated() ? ' - Opens voice chat' : ' - Sign in with Microsoft account')">
          <mat-icon aria-hidden="true">{{ isAuthenticated() ? 'chat' : 'login' }}</mat-icon>
          {{ primaryButtonText() }}
        </button>
      }
    </mat-card-actions>
  </mat-card>

  <div class="footer">
    <p>Powered by LiveKit &amp; Microsoft Entra External ID</p>
  </div>
</div>
