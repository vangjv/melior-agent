/* You can add global styles to this file, and also import other style files */

// Angular Material Theme Configuration
@use '@angular/material' as mat;

// Include the common styles for Angular Material
@include mat.core();

// Define custom color palette
$voice-chat-primary: mat.m2-define-palette(mat.$m2-indigo-palette);
$voice-chat-accent: mat.m2-define-palette(mat.$m2-pink-palette, A200, A100, A400);
$voice-chat-warn: mat.m2-define-palette(mat.$m2-red-palette);

// Create the theme object
$voice-chat-theme: mat.m2-define-light-theme(
  (
    color: (
      primary: $voice-chat-primary,
      accent: $voice-chat-accent,
      warn: $voice-chat-warn,
    ),
    typography: mat.m2-define-typography-config(),
    density: 0,
  )
);

// Include theme styles for core and each component used in your app
@include mat.all-component-themes($voice-chat-theme);

// Ensure CDK visually-hidden styles are applied for screen reader announcements
.cdk-visually-hidden {
  position: absolute !important;
  width: 1px !important;
  height: 1px !important;
  margin: -1px !important;
  padding: 0 !important;
  overflow: hidden !important;
  clip: rect(0, 0, 0, 0) !important;
  white-space: nowrap !important;
  border: 0 !important;
}

// Mobile-first breakpoints
$breakpoint-xs: 320px;
$breakpoint-sm: 480px;
$breakpoint-md: 768px;
$breakpoint-lg: 1024px;
$breakpoint-xl: 1280px;

// Global CSS Custom Properties for theming
:root {
  // Colors
  --color-primary: #{mat.m2-get-color-from-palette($voice-chat-primary, 500)};
  --color-accent: #{mat.m2-get-color-from-palette($voice-chat-accent, 500)};
  --color-warn: #{mat.m2-get-color-from-palette($voice-chat-warn, 500)};

  // Spacing
  --spacing-xs: 4px;
  --spacing-sm: 8px;
  --spacing-md: 16px;
  --spacing-lg: 24px;
  --spacing-xl: 32px;

  // Touch targets (minimum 44x44pt)
  --touch-target-min: 44px;

  // Transitions
  --transition-fast: 150ms ease-in-out;
  --transition-normal: 250ms ease-in-out;
  --transition-slow: 350ms ease-in-out;
}

// Global reset and base styles
* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

html,
body {
  height: 100%;
  font-family: Roboto, 'Helvetica Neue', sans-serif;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

body {
  margin: 0;
  font-size: 16px;
  line-height: 1.5;
}

// High contrast mode support
@media (prefers-contrast: high) {
  :root {
    --color-primary: #000080;
    --color-accent: #ff1493;
    --color-warn: #8b0000;
  }
}

// Reduced motion support
@media (prefers-reduced-motion: reduce) {
  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
  }
}

// Authentication error snackbar styles (T096)
.auth-error,
.auth-error-retryable {
  .mat-mdc-snack-bar-container {
    --mdc-snackbar-container-color: #f44336;
    --mdc-snackbar-supporting-text-color: #ffffff;
    --mat-snack-bar-button-color: #ffffff;

    .mdc-snackbar__label {
      font-weight: 500;
    }
  }
}

.auth-error-retryable {
  .mat-mdc-snack-bar-container {
    --mdc-snackbar-container-color: #ff9800;

    .mat-mdc-button {
      font-weight: 600;
    }
  }
}

// Mode change notification snackbar styles
.mode-change-snackbar {
  .mat-mdc-snack-bar-container {
    --mdc-snackbar-container-color: #5c6bc0; // Indigo for mode changes
    --mdc-snackbar-supporting-text-color: #ffffff;
    --mat-snack-bar-button-color: #ffffff;

    .mdc-snackbar__label {
      font-weight: 500;
    }
  }
}

